import{h as $}from"./IShi1APO.js";import{k as v,m as u,p as O,q as R,j as A,o as h,c as d,u as _,e as f,F as E,h as U,t as g}from"./DMW09NpZ.js";import{u as B}from"./BJtn2P2y.js";function S(r,a,l){const[e={},c]=[{},a],t=v(()=>u(r)),s=e.key||$([c,typeof t.value=="string"?t.value:"",...V(e)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);const n=s===c?"$f"+s:s;if(!e.baseURL&&typeof t.value=="string"&&t.value[0]==="/"&&t.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:m,lazy:i,default:j,transform:x,pick:q,watch:y,immediate:D,getCachedData:F,deep:T,dedupe:z,...C}=e,b=O({...R,...C,cache:typeof e.cache=="boolean"?void 0:e.cache}),L={server:m,lazy:i,default:j,transform:x,pick:q,immediate:D,getCachedData:F,deep:T,dedupe:z,watch:y===!1?[]:[b,t,...y||[]]};let o;return B(n,()=>{var w;(w=o==null?void 0:o.abort)==null||w.call(o,"Request aborted as another request to the same endpoint was initiated."),o=typeof AbortController<"u"?new AbortController:{};const k=u(e.timeout);let p;return k&&(p=setTimeout(()=>o.abort("Request aborted due to timeout."),k),o.signal.onabort=()=>clearTimeout(p)),(e.$fetch||globalThis.$fetch)(t.value,{signal:o.signal,...b}).finally(()=>{clearTimeout(p)})},L)}function V(r){var l;const a=[((l=u(r.method))==null?void 0:l.toUpperCase())||"GET",u(r.baseURL)];for(const e of[r.params||r.query]){const c=u(e);if(!c)continue;const t={};for(const[s,n]of Object.entries(c))t[u(s)]=u(n);a.push(t)}return a}const G={class:"not-prose"},I={key:0},K={key:1},N={key:2},X={class:"grid grid-cols-1 gap-4"},H=["href"],J={class:"flex items-center justify-between text-sm"},M={class:"font-semibold block"},P={class:"block text-sm"},te={__name:"project-list",async setup(r){let a,l;const{error:e,pending:c,data:t}=([a,l]=A(()=>S("https://api.github.com/users/piotr-jura-udemy/repos","$hhCXzFajzm")),a=await a,l(),a),s=v(()=>t.value.filter(n=>n.description).sort((n,m)=>m.stargazers_count-n.stargazers_count));return(n,m)=>(h(),d("div",G,[_(c)?(h(),d("section",I,"Loading...")):_(e)?(h(),d("section",K,"Something went wrong... Try again!")):(h(),d("section",N,[f("ul",X,[(h(!0),d(E,null,U(_(s),i=>(h(),d("li",{key:i.id,class:"border border-gray-200 rounded-sm p-4 hover:bg-gray-100 font-mono dark:hover:bg-gray-800 dark:border-gray-800"},[f("a",{href:i.html_url,target:"_blank"},[f("span",J,[f("span",M,g(i.name),1),f("span",null,g(i.stargazers_count)+" â˜…",1)]),f("span",P,g(i.description),1)],8,H)]))),128))])]))]))}};export{te as default};
