import{_ as g}from"./Dh6yGAOM.js";import{u as f}from"./BJtn2P2y.js";import{q as h}from"./BFGSgyiK.js";import{_ as x,j as v,k as b,l as k,e as a,o as p,c,h as w,u as d,F as Y,a as A,w as C,n as N,t as _}from"./DMW09NpZ.js";import"./IShi1APO.js";import"./C551hUAa.js";const q={class:"not-prose font-mono"},B={__name:"blog-posts",props:{limit:{type:Number,default:null}},async setup(m){let o,l;const n=m,{data:i}=([o,l]=v(()=>f("blog-list",()=>{const e=h("/blog").where({_path:{$ne:"/blog"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return n.limit&&e.limit(n.limit),e.find()})),o=await o,l(),o),u=b(()=>{if(!i.value)return[];const e=[];let s=null;for(const r of i.value){const t=new Date(r.publishedAt).getFullYear(),y=t!==s;r.displayYear=y,r.year=t,e.push(r),s=t}return e});return(e,s)=>{const r=g;return k(e.$slots,"default",{posts:d(u)},()=>[a("section",q,[s[0]||(s[0]=a("div",{class:"column text-gray-400 text-sm"},[a("div",null,"date"),a("div",null,"title")],-1)),a("ul",null,[(p(!0),c(Y,null,w(d(u),t=>(p(),c("li",{key:t._path},[A(r,{to:t._path,class:"column hover:bg-gray-100 dark:hover:bg-gray-800 group"},{default:C(()=>[a("div",{class:N({"text-gray-400 dark:text-gray-500":t.displayYear,"text-white group-hover:text-gray-100 dark:text-gray-900 dark:group-hover:text-gray-800":!t.displayYear})},_(t.year),3),a("div",null,_(t.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}},j=x(B,[["__scopeId","data-v-a75b6478"]]);export{j as default};
